# 作業の記録

## 1. ブロック分け

- 注文情報
  - 商品名
  - お料理項目
  - 金額
  - ご注文数
- 商品名
  - チャーハンコンボ
  - 「得トク」プレート（３〜４人前）
  - 自慢・焼餃子（５ヶ）
  - マーボー豆腐
  - チャーハン
- お料理項目
  - お持ち帰り弁当
  - お持ち帰り専用プレート
  - 点心・前菜
  - 一品料理
  - 飯・麺
- 注文者情報
  - 名前
  - 電話番号
- 注文手段
  - 電話
  - 現地

## 2. イベント系エンティティの抽出

- 注文

## 3. イベント系エンティティの正規化

## 4. リソース系エンティティの分類を整理

## 5. ブロック間でのリソース統合

## 6. 導出系の整理

# 全列挙からの正規化

## 項目と値の列挙

| 名前   | 電話番号    | 商品 1           | 金額 1 | 数量 1 | 商品区分 1     | 新商品区分 1 | 商品 2               | 金額 2 | 数量 2 | 商品区分 2 | 新商品区分 2 | 商品 3                   | 金額 3 | 数量 3 | 商品区分 3 | 新商品区分 3 | 合計金額 | 合計金額（税込み） |
| ------ | ----------- | ---------------- | ------ | ------ | -------------- | ------------ | -------------------- | ------ | ------ | ---------- | ------------ | ------------------------ | ------ | ------ | ---------- | ------------ | -------- | ------------------ |
| 古川   | 09011111111 | チャーハン       | 480    | 1      | 飯・麺         | NORMAL       | 自慢・焼餃子（５ヶ） | 180    | 2      | 点心・前菜 | NORMAL       |                          |        |        |            |              | 840      | 882                |
| 中野   | 09022222222 | 海老のチリソース | 780    | 1      | 一品料理       | NORMAL       | ライス               | 180    | 1      | 飯・麺     | NORMAL       | ポークしゅうまい（５ヶ） | 280    | 2      | 点心・前菜 | NORMAL       | 1520     | 1596               |
| 佐々木 | 09033333333 | チャーハンコンボ | 680    | 2      | お持ち帰り弁当 | NEW          | 西瓜ジュース         | 330    | 2      | 点心・前菜 | NEW          |                          |        |        |            |              | 2020     | 2121               |

## 繰り返し部分の切り出し 1

| 名前   | 電話番号    | 合計金額 | 合計金額（税込み） |
| ------ | ----------- | -------- | ------------------ |
| 古川   | 09011111111 | 840      | 882                |
| 中野   | 09022222222 | 1520     | 1596               |
| 佐々木 | 09033333333 | 2020     | 2121               |

| 注文 ID | 商品                     | 金額 | 数量 | 商品区分       | 新商品区分 |
| ------- | ------------------------ | ---- | ---- | -------------- | ---------- |
| 1       | チャーハン               | 480  | 1    | 飯・麺         | NORMAL     |
| 1       | 自慢・焼餃子（５ヶ）     | 180  | 2    | 点心・前菜     | NORMAL     |
| 2       | 海老のチリソース         | 780  | 1    | 一品料理       | NORMAL     |
| 2       | ライス                   | 180  | 1    | 飯・麺         | NORMAL     |
| 2       | ポークしゅうまい（５ヶ） | 280  | 2    | 点心・前菜     | NORMAL     |
| 3       | チャーハンコンボ         | 680  | 2    | お持ち帰り弁当 | NEW        |
| 3       | 西瓜ジュース             | 330  | 2    | 点心・前菜     | NEW        |

## 繰り返し部分の切り出し 2

| 名前   | 電話番号    | 合計金額 | 合計金額（税込み） |
| ------ | ----------- | -------- | ------------------ |
| 古川   | 09011111111 | 840      | 882                |
| 中野   | 09022222222 | 1520     | 1596               |
| 佐々木 | 09033333333 | 2020     | 2121               |

| 注文 ID | 商品                     | 金額 | 数量 |
| ------- | ------------------------ | ---- | ---- |
| 1       | チャーハン               | 480  | 1    |
| 1       | 自慢・焼餃子（５ヶ）     | 180  | 2    |
| 2       | 海老のチリソース         | 780  | 1    |
| 2       | ライス                   | 180  | 1    |
| 2       | ポークしゅうまい（５ヶ） | 280  | 2    |
| 3       | チャーハンコンボ         | 680  | 2    |
| 3       | 西瓜ジュース             | 330  | 2    |

| 商品区分               |
| ---------------------- |
| お持ち帰り弁当         |
| お持ち帰り専用プレート |
| 点心・前菜             |
| 一品料理               |
| 飯・麺                 |

| 新商品区分 |
| ---------- |
| NORMAL     |
| NEW        |

## 冗長性の排除

| 合計金額 |
| -------- |
| 840      |
| 1520     |
| 2020     |

| 名前   | 電話番号    |
| ------ | ----------- |
| 古川   | 09011111111 |
| 中野   | 09022222222 |
| 佐々木 | 09033333333 |

| 数量 |
| ---- |
| 1    |
| 2    |
| 1    |
| 1    |
| 2    |
| 2    |
| 2    |

| 商品                     | 金額 |
| ------------------------ | ---- |
| チャーハン               | 480  |
| 自慢・焼餃子（５ヶ）     | 180  |
| 海老のチリソース         | 780  |
| ライス                   | 180  |
| ポークしゅうまい（５ヶ） | 280  |
| チャーハンコンボ         | 680  |
| 西瓜ジュース             | 330  |

| 商品区分               |
| ---------------------- |
| お持ち帰り弁当         |
| お持ち帰り専用プレート |
| 点心・前菜             |
| 一品料理               |
| 飯・麺                 |

| 新商品区分 |
| ---------- |
| NORMAL     |
| NEW        |

## ID の割り当て

- 伝票

  | id  | 合計金額 |
  | --- | -------- |
  | 1   | 840      |
  | 2   | 1520     |
  | 3   | 2020     |

- 顧客

  | id  | 名前   | 電話番号    |
  | --- | ------ | ----------- |
  | 1   | 古川   | 09011111111 |
  | 2   | 中野   | 09022222222 |
  | 3   | 佐々木 | 09033333333 |

- 注文

  | id  | 数量 |
  | --- | ---- |
  | 1   | 1    |
  | 2   | 2    |
  | 3   | 1    |
  | 4   | 1    |
  | 5   | 2    |
  | 6   | 2    |
  | 7   | 2    |

- 商品

  | id  | 商品                     | 金額 |
  | --- | ------------------------ | ---- |
  | 1   | チャーハン               | 480  |
  | 2   | 自慢・焼餃子（５ヶ）     | 180  |
  | 3   | 海老のチリソース         | 780  |
  | 4   | ライス                   | 180  |
  | 5   | ポークしゅうまい（５ヶ） | 280  |
  | 6   | チャーハンコンボ         | 680  |
  | 7   | 西瓜ジュース             | 330  |

- 商品区分

  | id  | 商品区分               |
  | --- | ---------------------- |
  | 1   | お持ち帰り弁当         |
  | 2   | お持ち帰り専用プレート |
  | 3   | 点心・前菜             |
  | 4   | 一品料理               |
  | 5   | 飯・麺                 |

- 新商品区分

  | id  | 新商品区分 |
  | --- | ---------- |
  | 1   | NORMAL     |
  | 2   | NEW        |

## ID の関連付け

- 伝票

  | id  | 合計金額 | 顧客 id |
  | --- | -------- | ------- |
  | 1   | 840      | 1       |
  | 2   | 1520     | 2       |
  | 3   | 2020     | 3       |

- 顧客

  | id  | 名前   | 電話番号    |
  | --- | ------ | ----------- |
  | 1   | 古川   | 09011111111 |
  | 2   | 中野   | 09022222222 |
  | 3   | 佐々木 | 09033333333 |

- 注文

  | id  | 数量 | 伝票 id | 商品 id |
  | --- | ---- | ------- | ------- |
  | 1   | 1    | 1       | 1       |
  | 2   | 2    | 1       | 2       |
  | 3   | 1    | 2       | 3       |
  | 4   | 1    | 2       | 4       |
  | 5   | 2    | 2       | 5       |
  | 6   | 2    | 3       | 6       |
  | 7   | 2    | 3       | 7       |

- 商品

  | id  | 商品                     | 金額 | 商品区分 | 新商品区分 |
  | --- | ------------------------ | ---- | -------- | ---------- |
  | 1   | チャーハン               | 480  | 5        | 1          |
  | 2   | 自慢・焼餃子（５ヶ）     | 180  | 3        | 1          |
  | 3   | 海老のチリソース         | 780  | 4        | 1          |
  | 4   | ライス                   | 180  | 5        | 1          |
  | 5   | ポークしゅうまい（５ヶ） | 280  | 3        | 1          |
  | 6   | チャーハンコンボ         | 680  | 1        | 2          |
  | 7   | 西瓜ジュース             | 330  | 3        | 2          |

- 商品区分

  | id  | 商品区分               |
  | --- | ---------------------- |
  | 1   | お持ち帰り弁当         |
  | 2   | お持ち帰り専用プレート |
  | 3   | 点心・前菜             |
  | 4   | 一品料理               |
  | 5   | 飯・麺                 |

- 新商品区分

  | id  | 新商品区分 |
  | --- | ---------- |
  | 1   | NORMAL     |
  | 2   | NEW        |
